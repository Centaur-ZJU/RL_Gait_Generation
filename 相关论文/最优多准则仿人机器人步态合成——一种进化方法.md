最优多准则仿人机器人步态合成——一种进化方法

摘要

在日常生活环境中工作的类人机器人必须根据环境条件产生步态。通常步态必须满足不同的目标。本文提出了一种基于多目标进化算法的仿人机器人步态生成方法。在该方法中，我们考虑了两个相互冲突的目标来生成仿人机器人步态:最小能量和最小扭矩变化。与单目标遗传算法不同的是，多目标进化算法收敛于一组非支配的帕累托最优步态。根据环境条件和用户的要求，可以选择合适的仿人机器人步态。利用“Bonten-Maru”仿人机器人进行仿真和实验，结果表明该方法具有良好的性能。

介绍。

类人机器人可以在人类所处的任何环境中工作。为了实现能够在日常生活环境中工作的仿人机器人，需要动态稳定的运动。此外，他们必须根据环境条件改变他们的步态。因此，基于环境条件的仿人机器人步态生成算法是仿人机器人发展的核心。在早期的工作中，仿人机器人的步态是基于从人体运动[1]中获取的数据生成的。最近的大部分工作[2-4]都将最小能量消耗作为仿人机器人步态生成的标准。Roussel[2]考虑了步行过程中消耗的最小能量。身体的重量集中在两足机器人的臀部。Silva和Machado[3]认为身体连杆限制在垂直位置，身体向前的速度是恒定的。通过[4]通道分析了所消耗的能量与行走速度和步长之间的关系。通过减小关节力矩得到输入力矩的分布函数。  
在我们之前的工作中，我们考虑了仿人机器人行走和上楼梯步态生成[5]和实时步态生成[6]。除了最小能耗(minimum consumption energy, MCE)准则，最小转矩变化(minimum转矩change, MTC)[7,8]也被考虑在内。结果表明，MCE步态与MTC步态具有不同的特点。

MCE步态与人类相似。MCE标准的另一个优点也与电池驱动电动机时的运行时间有关。另一方面，由于转矩的平稳变化以及连杆加速度的平稳变化，基于MTC准则生成仿人机器人步态时，对机器人稳定性的干扰较小。  

该工作的主要动机是生成满足一定程度不同目标的仿人机器人步态，这属于多目标优化问题。在一个多目标优化问题中，可能不存在一个对所有目标都是最好的解。通常，目标是确定折衷曲面，它是一组非支配解点，称为帕累托最优解或非劣解。该仿人机器人可以根据环境条件在不同步态之间进行帕累托最优步态的切换。  
在其他工作中，通过不同目标的线性组合作为加权和[9]，将多目标问题转化为单目标问题。这种加权和方法的重要方面是，通过改变权重可以得到一组非劣解(或帕累托最优解)。不幸的是，这需要多次运行，次数与期望的帕累托最优解决方案的次数相同。此外，对于具有非凸帕累托最优前沿的问题，该方法不能用于寻找帕累托最优解。此外，没有合理的基础来确定适当的权重，这样形成的目标函数可能会因为结合了不可公度的目标而失去意义。为避免这一困难，提出了多目标优化的e-约束方法。该方法以最优目标的优化为基础，并将其他目标视为一些允许水平的约束条件。然后修改这些级别以生成整个帕累托最优集。  
这种方法最明显的缺点是，它很耗时，而且往往会找到弱的非主导解决方案。  
在本文中，我们提出了一种用于仿人机器人步态合成的多目标进化算法(EA)[10,13]。该算法的主要优点是在一次进化算法的运行中，可以生成具有完全不同特征的仿人机器人步态。因此，仿人机器人可以根据环境条件在不同步态之间切换。该方法的基本思想是将仿人机器人的步态参数编码到基因组中，并获取下一代机器人的非主导最优步态参数。具体的问题是:1)多目标EA是否能够在一定程度上成功生成满足不同目标函数的仿人机器人步态;2)仿真中EA优化的仿人机器人步态是否确实有助于硬件实现。  
为了回答这些问题，我们考虑MCE和MTC代价函数作为“Bonten-Maru”仿人机器人步态综合的准则。结果表明，多目标步法生成了一组非支配型最优仿人机器人步法。为了进一步验证优化后的步态在真实硬件上的表现如何，我们使用“Bonten-Maru”类人机器人实现了最佳步态。结果表明，优化后的步态除了能量消耗外，由于关节力矩的平稳变化，步态稳定且影响小。  

2. 多目标进化算法。

2.1。优势和帕累托最优。在多目标优化问题中，需要同时优化许多(可能相互冲突的)目标。因此，不再存在单一的最优解决方案，而是一套具有同等质量的可能解决方案。与全有序标量搜索空间相比，多维搜索空间只是部分有序的，即两种不同的解以两种可能的方式相互关联:一种优于另一种，另一种不占优势。

不失一般性地考虑具有m个决策变量x(参数)和n个目标的多目标最大化问题:  
y = f(x)=(f 1(x1, ......xm), ..., f n(x1, ......xm)) (1) 

式中，x = (x1，……xm)∈x, y = (y1，……yn)∈y，其中x称为决策(参数)向量、x参数空间、y目标向量和y目标空间。判定向量A∈X优于判定向量b∈X(也写成A A b)当且仅当:  
∀i ∈ {1, ...., n} : fi(a) ≥ fi(b) ∧ ∃j ∈ {1, ...., n} : fj (a) ≥ fj (b)      (2)

当且仅当a对于整个参数空间X无支配时，判定(参数)向量a称为帕累托最优。如果集合X0没有明确指定，则隐含了整个参数空间X。帕累托最优参数向量不能在任何目标中得到改进而不会导致至少一个其他目标的退化。它们代表全局最优解。注意，一个帕累托最优集不一定包含X中的所有帕累托最优解。  

在将单一目标EAs的概念扩展到多目标案例时，必须解决两个主要问题:1。如何完成适应度分配和选择，从而引导搜索到帕累托最优集。如何保持一个多样化的人口，以防止早熟收敛，实现一个良好的分布，广泛传播的权衡前线。注意，目标函数本身不再具有适应度函数的资格，因为它是矢量值，而适应度必须是标量值。根据第一个问题，可以将适应度函数与目标函数联系起来的不同方法进行分类。第二个问题通常通过引入精英主义和中间重组来解决。精英主义是一种确保优秀个体不会丢失(通过突变或集合减少)的方法，只需将它们存储在一个只参与选择的外部集合中。另一方面，中间重组平均两个亲本的参数向量以产生一个子代。



3.最优步态生成。在运动过程中，人形机器人的手臂会固定在胸部上。因此，可以将其视为矢状平面上的五连杆两足机器人，如图1所示。将两足机器人的运动分为单支撑阶段和瞬态双支撑阶段。机器人的脚和地面之间的摩擦力被认为足以防止滑动。在单支撑阶段，ZMP必须在鞋底长度内，这样脚和地面之间的接触将保持。在我们的工作中，我们通过考虑集中在一点的连杆质量来计算ZMP。为了有一个稳定的周期性的行走动作，当摆动脚接触地面时，ZMP必须在它的鞋底跳跃。这是通过加速身体链接来实现的。为了使身体的相对运动更容易，将支撑腿踝关节的坐标系过渡移动到机器人的腰部(O1X1Z1)。参考新的坐标系，ZMP位置为:  

公式3

mi是质量粒子的“i”,xw和zw腰部的坐标的坐标系统在支撑腿的踝关节,¯xi和¯子质量粒子的坐标是“我”对O1X1Z1坐标系,x¨¯我和z¨¯我质量粒子的加速“我”对O1X1Z1坐标系统。

根据公式(3),如果位置,¯xi, z¯我,和加速度,x¨¯我,z¨¯我腿的一部分(i = 1、2、4、5),身体角度θ3,和身体角速度,˙θ3,是已知的,因为x¨¯3 z¨¯3是l3的函数,θ3˙θ3,¨θ3,身体很容易计算基于ZMP位置的角加速度。设(0)和(f)分别为步骤开始和结束的索引。在这个步骤的开始，¨30使ZMP处于ZMPjump的位置。在这一步的最后，会计算出角加速度¨rex3f，以便使ZMP位于ZMPf位置，这样¨rex3f和¨rex30之间的差别就很小了。因此，改变阀体连杆的加速度所必需的扭矩也将是最小的。

4. 目标函数。步态综合问题是在两足机器人行走或上楼过程中，寻找关节角轨迹，以连接消耗能量和扭矩变化最小的第一个和最后一个姿态。

对于MCE代价函数，可以假设用于控制机器人位置的能量与力矩平方对时间的积分成正比，因为关节力矩与电流成正比。因此，减小关节扭矩可以解决MCE问题[11]。

代价函数J与运动所需能量成正比，定义如下:

公式4

其中tf为步长时间，管仲为转矩矢量，∆factorial跳转，∆t为施加在body连杆上使ZMP跳跃的附加转矩及其持续时间，C为罚函数矢量C。对于我们的系统，我们考虑以下约束。
